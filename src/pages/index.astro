---
import type { Project } from '../types/index.ts'
import Layout from '../layouts/Layout.astro';

const response = await fetch(`${import.meta.env.PUBLIC_API_URL}/content/projects`)
const projects: Project[] = await response.json()
---

<Layout>
	<ul>
		{projects.map((project) => (
			<li>
				<h2>{project.name}</h2>
				<p>{project.description.content}</p>
				<ul>
					{project.tags.map((tag) => <li>{tag}</li>)}
				</ul>
				<ul>
					{project.links.map((link) => (
						<li>
							<a href={link.url}>{link.label}</a>
						</li>
					))}
				</ul>
			</li>
		))}
	</ul>
</Layout>
